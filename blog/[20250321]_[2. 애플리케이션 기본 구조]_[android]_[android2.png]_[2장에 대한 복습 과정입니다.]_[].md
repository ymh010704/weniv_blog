# 2장 애플리케이션 기본 구조

## 1. 안드로이드 애플리케이션의 구성

애플리케이션은 **컴포넌트**로 이루어진다.  <br>
    - 컴포넌트 : 앱 내에서 <u>독립적인 실행 단위</u>이다.
        - 인텐트(intent)를 매개로 정보를 주고 받음.
        
#### 📱 안드로이드의 4대 컴포넌트
    - **액티비티**(Activity)
        - UI 화면을 가지는 하나의 작업을 표시하는 컴포넌트
        - 사용자가 앱과 직접 상호작용할 수 있게 해준다.

    - **서비스** (Service)
        - 백그라운드에서 실행되는 컴포넌트
        - 사용자 인터페이스(UI)는 없으며, 액티비티 등 다른 컴포넌트에 의해 시작됨.

    - **방송 수신자** (Broadcast Receiver)
        - 서비스와 같이 UI를 가지지 않고 주로 이벤트 모델로 수행함.
        - 즉, 이벤트 발생 시 이를 수신하고 처리하는 컴포넌트

    - **컨텐츠 제공자** (Content Provider)
        - 데이터를 관리하고 다른 Application에게 제공하는 컴포넌트 등이 존재함.


* 자바와의 차이점
    - 컴포넌트를 class로 구현하지만, 해당 클래스의 생명주기는 *안드로이드*가 관리해준다.
       즉, 직접 객체를 생성하거나 소멸하는 것이 아닌, 시스템이 필요할 때 생성 및 제거를 한다.

---

#### <span style="background-color:#fff5b1">액티비티</span> (컴포넌트 중 하나)
- <u>사용자 인터페이스(UI) 화면을 가지는 하나의 작업을 표시</u>하는 컴포넌트임.
- 하나의 앱은 당연히 여러 액티비티를 가질 수 있음.
- 액티비티들이 모이면 **애플리케이션**이 된다.

> 액티비티 3개가 있다면, 각각 별도의 화면을 가진다.

<br><br>

#### <span style="background-color:#fff5b1">서비스</span> (컴포넌트 중 하나)
- **백그라운드에서 실행되는 컴포넌트**이다.
- 액티비티와 같은 다른 컴포넌트에 의해 시작이 됨. 
> ex. 음악 앱
- 사용자 인터페이스(UI)를 가지지 않음.
> 백그라운드 실행이므로


<br><br>

#### <span style="background-color:#fff5b1">방송 수신자</span> (컴포넌트 중 하나)
- **방송을 받고 반응**하는 컴포넌트 // 필수는 아님
> 주로 이벤트 모델로 수행한다.
- 서비스와 마찬가지로 사용자 인터페이스(UI)를 가지지 않음.
> ex. 배터리 상태(배터리가 10% 미만 -> 배터리가 부족합니다 알림), 통신 연결 등

<br><br>

#### <span style="background-color:#fff5b1">컨텐츠 제공자</span> (컴포넌트 중 하나)
- **애플리케이션 간 데이터를 공유**하기 위한 표준화된 인터페이스를 제공한다.
- 데이터를 관리, 다른 애플리케이션에게 제공하는 컴포넌트
> 데이터는 파일 시스템, SQLite 데이터베이스, 웹 등에 저장함.

  <br>

##### 앱을 개발할 때 4가지 컴포넌트를 전부 사용해야 할까?
> 당연히 아니며, 개발자가 필요로 하는 것을 사용하면 된다.
대개 액티비티가 핵심으로 작동한다.

---

#### <span style="background-color:#fff5b1">인텐트(Intent)</span>
앞에서 컴포넌트는 인텐트(Intent)를 매개로 정보를 주고 받는다고 했었음.
-> 인텐트란 무엇일까?  <br>
- 인텐트는 Intent 클래스의 객체로, 컴포넌트가 필요로 하는 요청 내용을 가짐.
    - 다른 앱에 무슨 컴포넌트가 있는지 모르니 Intent 를 사용해 가져오는 것.
> 앱 컴포넌트 간의 **의사소통 메시지**라고 생각하면 된다.

<br>

## 2. 안드로이드 애플리케이션 작성 절차
> 자바 파일은 **앱의 로직**을 나타냄
> XML 파일은 **앱의 사용자 인터페이스(UI)**를 나타냄

여기에 사운드와 이미 같은 <u>리소스(자원)</u>들이 추가된다.  <br>
1. 프로젝트 생성
2. 사용자 인터페이스 작성 (XML)
3. 자바 코드 작성(JAVA)
4. 매니페이스 파일 작성(XML)    → AndroidManifest.xml
5. ADV를 사용한 실행
  
**매니페스트 파일**
- 애플리케이션 안에 있는 컴포넌트들을 기술하고, 권한을 지정한다.
- 앱이 필요한 최소한의 API레벨을 선언하고 필요로 하는 하드웨어 사양을 선언한다.
  
**프로젝트 빌드 과정**
1. 프로젝트 구성 (Android Studio 이용)
2. 소스 컴파일
3. 패키징

> 빈 프로젝트를 만들면 아래와 같은 화면이 나온다.
![프로젝트생성](img/Ch2/2-1appTest.PNG)


```xml
<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:paddingLeft="16dp"
    android:paddingRight="16dp"
    android:orientation="vertical" >
    <EditText
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:hint="@string/to" />
    <EditText
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:hint="@string/subject" />
    <EditText
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:gravity="top"
        android:hint="@string/message" />
    <Button
        android:layout_width="100dp"
        android:layout_height="wrap_content"
        android:layout_gravity="end"
        android:text="@string/send" />
</LinearLayout>
```
